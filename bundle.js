!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";n.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},h=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function f(t){return null!==t&&"object"==typeof t}var l=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u){n[u].remove(this)}if(i(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof l?d(t.errors):[t]}}if(h(s)){u=-1;for(var c=s.length;++u<c;){var a=s[u];if(f(a))try{a.unsubscribe()}catch(t){e=e||[],t instanceof l?e=e.concat(d(t.errors)):e.push(t)}}}if(e)throw new l(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof l?e.errors:e)}),[])}var y=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),b=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!n){i.destination=a;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new v(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new v(i,n,r,o)}return i}return o(e,t),e.prototype[y]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),v=function(t){function e(e,n,r,o){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return i(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a&&(i((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=o,u}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(b);var w=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function g(t){return t}function m(t){return 0===t.length?g:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var _=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof b)return t;if(t[y])return t[y]()}return t||e||n?new b(t,e,n):new b(a)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof b?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=x(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[w]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:m(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=x(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function x(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new S(t,e))}}var S=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.project,this.thisArg))},t}(),O=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(b);function A(t,e,n,r){return i(n)&&(r=n,n=void 0),r?A(t,e,n).pipe(E((function(t){return h(t)?r.apply(void 0,t):r(t)}))):new _((function(r){!function t(e,n,r,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,i),s=function(){return u.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),s=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var h=0,f=e.length;h<f;h++)t(e[h],n,r,o,i)}o.add(s)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}var I=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),T=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(p),j=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return o(e,t),e}(b),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[y]=function(){return new j(this)},e.prototype.lift=function(t){var e=new k(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new I;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new I;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new T(this,t))},e.prototype.asObservable=function(){var t=new _;return t.source=this,t},e.create=function(t,e){return new k(t,e)},e}(_),k=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):p.EMPTY},e}(P),N=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return o(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(p)),C=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),L=new(function(t){function e(n,r){void 0===r&&(r=C.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return o(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(C))(N);function B(t){return!h(t)&&t-parseFloat(t)+1>=0}function D(t){return t&&"function"==typeof t.schedule}function M(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var H=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.predicate,this.thisArg))},t}(),V=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(b),R=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function Y(t,e){return new _((function(n){var r=new p,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function U(t,e){return e?Y(t,e):new _(R(t))}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return D(n)?(t.pop(),Y(t,n)):U(t)}function W(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var F=W(),G=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function q(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var $=function(t){if(t&&"function"==typeof t[w])return r=t,function(t){var e=r[w]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(G(t))return R(t);if(q(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,c),t};if(t&&"function"==typeof t[F])return e=t,function(t){for(var n=e[F]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o=f(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function J(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[w]}(t))return function(t,e){return new _((function(n){var r=new p;return r.add(e.schedule((function(){var o=t[w]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(q(t))return function(t,e){return new _((function(n){var r=new p;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(G(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[F]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _((function(n){var r,o=new p;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[F](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var K=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(b),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(b);function X(t,e){if(!e.closed)return t instanceof _?t.subscribe(e):$(t)(e)}function Z(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Z((function(n,r){return(o=t(n,r),i?J(o,i):o instanceof _?o:new _($(o))).pipe(E((function(t,o){return e(n,t,r,o)})));var o,i}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new tt(t,n))})}var tt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.project,this.concurrent))},t}(),et=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new K(this),n=this.destination;n.add(e);var r=X(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Q);function nt(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),Z(g,t);var t}function rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nt()(z.apply(void 0,t))}function ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return D(n)?(t.pop(),function(e){return rt(t,e,n)}):function(e){return rt(t,e)}}var it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(b),st=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(b);function ut(t,e,n,r,o){if(void 0===o&&(o=new st(t,n,r)),!o.closed)return e instanceof _?e.subscribe(o):$(e)(o)}var ct=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.observables,this.project))},t}(),at=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var s=0;s<i;s++)o.toRespond.push(s);for(s=0;s<i;s++){var u=n[s];o.add(ut(o,u,void 0,s))}return o}return o(e,t),e.prototype.notifyNext=function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(it);var ht=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.accumulator,this.seed,this.hasSeed))},t}(),ft=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return o(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(b);var lt=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.predicate,this.inclusive))},t}(),pt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.inclusive=r,o.index=0,o}return o(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(b);var dt,yt=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new bt(t),r=X(this.notifier,new K(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),bt=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return o(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Q),vt=function(){return(vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wt=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,u=i.length;s<u;s++,o++)r[o]=i[s];return r};var gt=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.next=function(e){switch(e){case"N":return new t(this.x,this.y-1);case"E":return new t(this.x+1,this.y);case"S":return new t(this.x,this.y+1);case"W":return new t(this.x-1,this.y);default:return this}},Object.defineProperty(t.prototype,"id",{get:function(){return this.x+"_"+this.y},enumerable:!1,configurable:!0}),t}(),mt=function(){function t(t,e){this.cellSize=e,this.width=Math.floor(t.width/e),this.height=Math.floor(t.height/e)}return t.prototype.startSnake=function(t,e){var n=new gt(Math.floor(this.width/2),Math.floor(this.height/2));return[n,n.next(e)]},t.prototype.isWithinBounds=function(t){return t.x>=0&&t.x<this.width&&t.y>=0&&t.y<this.height},t.prototype.getRect=function(t){return{x:t.x*this.cellSize,y:t.y*this.cellSize,width:this.cellSize,height:this.cellSize}},t.prototype.random=function(){return new gt(Math.floor(Math.random()*this.width),Math.floor(Math.random()*this.height))},t}(),_t=function(){function t(t,e){this.svg=t,this.cellSize=e,this.destroyed$=new P,this.board=new mt(t.getBoundingClientRect(),e)}return t.prototype.gameOn=function(){var t,e,n,r=this,o=A(document,"keydown"),i=function(t,e,n){void 0===t&&(t=0);var r=-1;return B(e)?r=Number(e)<1?1:Number(e):D(e)&&(n=e),D(n)||(n=L),new _((function(e){var o=B(t)?t:+t-n.now();return n.schedule(M,o,{index:0,period:r,subscriber:e})}))}(0,100),s=o.pipe((t=function(t){return-1!==["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].indexOf(t.key)},function(n){return n.lift(new H(t,e))}),E((function(t){switch(t.key){case"ArrowUp":return"N";case"ArrowRight":return"E";case"ArrowDown":return"S";case"ArrowLeft":return"W"}})),ot("E")),u=this.board.startSnake(2,"E"),c={isAlive:!0,snake:{body:u,heading:"E"},snakeEvolution:{newHead:u,oldTail:[]},foodLocation:void 0};i.pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new ct(r,n))}}(s),function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ht(t,e,n))}}((function(t,e){var n=function(t,e){switch(t){case"N":return"S"==e;case"E":return"W"==e;case"S":return"N"==e;case"W":return"E"==e;default:return!1}}(t.snake.heading,e[1])?t.snake.heading:e[1],o=t.snake.body[t.snake.body.length-1].next(n);if(!r.board.isWithinBounds(o)||void 0!==t.snake.body.find((function(t){return t.id===o.id})))return console.log("DEAD!",t.snake.body.length),r.endGame(t.snake.body.length),vt(vt({},t),{isAlive:!1});var i=t.foodLocation&&t.foodLocation.id===o.id;return{isAlive:!0,snake:{body:wt(i?t.snake.body:t.snake.body.slice(1),[o]),heading:n},snakeEvolution:{newHead:[o],oldTail:i?[]:[t.snake.body[0]]},foodLocation:i||!t.foodLocation?r.board.random():t.foodLocation}}),c),ot(c),function(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new lt(t,e))}}((function(t){return t.isAlive})),(n=this.destroyed$,function(t){return t.lift(new yt(n))})).subscribe((function(t){t.snakeEvolution.newHead.forEach((function(t){var e=r.board.getRect(t),n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",e.x.toString()),n.setAttribute("y",e.y.toString()),n.setAttribute("width",e.width.toString()),n.setAttribute("height",e.height.toString()),n.setAttribute("id",t.id),r.svg.appendChild(n)})),t.snakeEvolution.oldTail.forEach((function(t){r.svg.getElementById(t.id).remove()}));var e=r.svg.getElementById("food");if(e&&(t.foodLocation&&t.foodLocation.id===e.getAttribute("id")||e.remove()),t.foodLocation){r.addScore(t.snake.body.length);var n=r.board.getRect(t.foodLocation),o=document.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("x",n.x.toString()),o.setAttribute("y",n.y.toString()),o.setAttribute("width",n.width.toString()),o.setAttribute("height",n.height.toString()),o.setAttribute("id","food"),r.svg.appendChild(o)}}))},t.prototype.abandon=function(){for(this.destroyed$.next();this.svg.childNodes.length>0;)this.svg.childNodes[0].remove()},t.prototype.addScore=function(t){document.getElementById("score").textContent="score: "+t},t.prototype.formSubmition=function(t,e){t.preventDefault();var n=t.target.querySelector(".name").value;if(""!=n){var r=e.toString();localStorage.setItem(n,r),document.getElementById("endGame").style.display="none",this.CreateScoreBoard()}},t.prototype.endGame=function(t){var e=this;document.getElementById("endGame").style.display="block",document.getElementById("endScore").textContent=" "+t,document.getElementById("form").addEventListener("submit",(function(n){e.formSubmition(n,t)})),document.getElementById("nameInput").value=""},t.prototype.CreateScoreBoard=function(){var t=Object.entries(localStorage);t.sort((function(t,e){return e[1]-t[1]})),console.table(t);var e=document.getElementById("lead"),n=e.getElementsByTagName("li");Array.from(n).forEach((function(t){return e.removeChild(t)})),t.map((function(t){var n=document.createElement("li");n.appendChild(document.createTextNode(t[0]+" : "+t[1])),e.appendChild(n)}))},t}(),xt=document.getElementById("board");A(document.getElementById("start"),"click").subscribe((function(){return t=xt,dt?dt.abandon():dt=new _t(t,16),void dt.gameOn();var t}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvaW5uZXJTdWJzY3JpYmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL091dGVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9Jbm5lclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiaXNGdW5jdGlvbiIsIngiLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJQcm9taXNlIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJzdGFjayIsImhvc3RSZXBvcnRFcnJvciIsImVyciIsInNldFRpbWVvdXQiLCJlbXB0eSIsImNsb3NlZCIsIm5leHQiLCJlcnJvciIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJjb21wbGV0ZSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpc09iamVjdCIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIm1lc3NhZ2UiLCJtYXAiLCJ0b1N0cmluZyIsImpvaW4iLCJTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsIl9wYXJlbnRPclBhcmVudHMiLCJfc3Vic2NyaXB0aW9ucyIsIl9jdG9yVW5zdWJzY3JpYmUiLCJfdW5zdWJzY3JpYmUiLCJyZW1vdmUiLCJpbmRleCIsImUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJsZW4iLCJzdWIiLCJjb25jYXQiLCJwdXNoIiwiYWRkIiwidGVhcmRvd24iLCJzdWJzY3JpcHRpb24iLCJFTVBUWSIsInRtcCIsImluZGV4T2YiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJzcGxpY2UiLCJyZWR1Y2UiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiTWF0aCIsInJhbmRvbSIsIl9zdXBlciIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl90aGlzIiwic3luY0Vycm9yVmFsdWUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJpc1N0b3BwZWQiLCJhcmd1bWVudHMiLCJkZXN0aW5hdGlvbiIsInN1YnNjcmliZXIiLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJTYWZlU3Vic2NyaWJlciIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJmbiIsInBhcmVudCIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInByZXYiLCJPYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNvdXJjZSIsInNpbmsiLCJuZXh0T3JPYnNlcnZlciIsInRvU3Vic2NyaWJlciIsIl90cnlTdWJzY3JpYmUiLCJvYnNlcnZlciIsIl9hIiwiY2xvc2VkXzEiLCJjYW5SZXBvcnRFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwicGlwZSIsIm9wZXJhdGlvbnMiLCJfaSIsInRvUHJvbWlzZSIsInByb2plY3QiLCJ0aGlzQXJnIiwiVHlwZUVycm9yIiwiTWFwT3BlcmF0b3IiLCJNYXBTdWJzY3JpYmVyIiwiY291bnQiLCJyZXN1bHQiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwicmVzdWx0U2VsZWN0b3IiLCJhcmdzIiwiYXBwbHkiLCJzZXR1cFN1YnNjcmlwdGlvbiIsInNvdXJjZU9iaiIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXZlbnRUYXJnZXQiLCJzb3VyY2VfMSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzMiLCJzbGljZSIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsIiwiU3ViamVjdFN1YnNjcmlwdGlvbiIsInN1YmplY3QiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmVySW5kZXgiLCJTdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3QiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwiY29weSIsImFzT2JzZXJ2YWJsZSIsIkFub255bW91c1N1YmplY3QiLCJBc3luY0FjdGlvbiIsInNjaGVkdWxlciIsIndvcmsiLCJwZW5kaW5nIiwic2NoZWR1bGUiLCJzdGF0ZSIsImRlbGF5IiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwic2V0SW50ZXJ2YWwiLCJmbHVzaCIsImNsZWFySW50ZXJ2YWwiLCJleGVjdXRlIiwiX2V4ZWN1dGUiLCJlcnJvcmVkIiwiZXJyb3JWYWx1ZSIsImFjdGlvbnMiLCJBY3Rpb24iLCJTY2hlZHVsZXIiLCJTY2hlZHVsZXJBY3Rpb24iLCJub3ciLCJEYXRlIiwiQXN5bmNTY2hlZHVsZXIiLCJkZWxlZ2F0ZSIsImFjdGl2ZSIsInNjaGVkdWxlZCIsImFjdGlvbiIsInNoaWZ0IiwiaXNOdW1lcmljIiwidmFsIiwicGFyc2VGbG9hdCIsImlzU2NoZWR1bGVyIiwiZGlzcGF0Y2giLCJwZXJpb2QiLCJGaWx0ZXJPcGVyYXRvciIsInByZWRpY2F0ZSIsIkZpbHRlclN1YnNjcmliZXIiLCJzdWJzY3JpYmVUb0FycmF5IiwiYXJyYXkiLCJzY2hlZHVsZUFycmF5IiwiZnJvbUFycmF5Iiwib2YiLCJwb3AiLCJnZXRTeW1ib2xJdGVyYXRvciIsIml0ZXJhdG9yIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJ0aGVuIiwic3Vic2NyaWJlVG8iLCJvYmoiLCJvYnMiLCJwcm9taXNlIiwiaXRlcmFibGUiLCJpdGVtIiwiZG9uZSIsInJldHVybiIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZVByb21pc2UiLCJpc0l0ZXJhYmxlIiwic2NoZWR1bGVJdGVyYWJsZSIsIlNpbXBsZUlubmVyU3Vic2NyaWJlciIsIm5vdGlmeU5leHQiLCJub3RpZnlFcnJvciIsIm5vdGlmeUNvbXBsZXRlIiwiU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIiwiaW5uZXJWYWx1ZSIsImlubmVyU3Vic2NyaWJlIiwiaW5uZXJTdWJzY3JpYmVyIiwibWVyZ2VNYXAiLCJjb25jdXJyZW50IiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhIiwiaWkiLCJNZXJnZU1hcE9wZXJhdG9yIiwiTWVyZ2VNYXBTdWJzY3JpYmVyIiwiaGFzQ29tcGxldGVkIiwiYnVmZmVyIiwiX3RyeU5leHQiLCJfaW5uZXJTdWIiLCJpc2giLCJpbm5lclN1YnNjcmlwdGlvbiIsImNvbmNhdEFsbCIsIm9ic2VydmFibGVzIiwic3RhcnRXaXRoIiwiT3V0ZXJTdWJzY3JpYmVyIiwib3V0ZXJWYWx1ZSIsIm91dGVySW5kZXgiLCJpbm5lckluZGV4IiwiaW5uZXJTdWIiLCJJbm5lclN1YnNjcmliZXIiLCJzdWJzY3JpYmVUb1Jlc3VsdCIsIm91dGVyU3Vic2NyaWJlciIsIldpdGhMYXRlc3RGcm9tT3BlcmF0b3IiLCJXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIiLCJ0b1Jlc3BvbmQiLCJ2YWx1ZXMiLCJfb3V0ZXJWYWx1ZSIsImZvdW5kIiwiX3RyeVByb2plY3QiLCJTY2FuT3BlcmF0b3IiLCJhY2N1bXVsYXRvciIsInNlZWQiLCJoYXNTZWVkIiwiU2NhblN1YnNjcmliZXIiLCJfc2VlZCIsInNldCIsImNvbmZpZ3VyYWJsZSIsIlRha2VXaGlsZU9wZXJhdG9yIiwiaW5jbHVzaXZlIiwiVGFrZVdoaWxlU3Vic2NyaWJlciIsIm5leHRPckNvbXBsZXRlIiwicHJlZGljYXRlUmVzdWx0IiwiQm9vbGVhbiIsImN1cnJlbnRHYW1lIiwiVGFrZVVudGlsT3BlcmF0b3IiLCJub3RpZmllciIsInRha2VVbnRpbFN1YnNjcmliZXIiLCJub3RpZmllclN1YnNjcmlwdGlvbiIsInNlZW5WYWx1ZSIsIlRha2VVbnRpbFN1YnNjcmliZXIiLCJ5IiwiaGVhZGluZyIsIkNlbGxMb2NhdGlvbiIsImRvbVJlY3QiLCJjZWxsU2l6ZSIsIndpZHRoIiwiZmxvb3IiLCJoZWlnaHQiLCJzdGFydFNuYWtlIiwic2l6ZSIsImNlbnRyZSIsImlzV2l0aGluQm91bmRzIiwibG9jYXRpb24iLCJnZXRSZWN0IiwiY2VsbExvY2F0aW9uIiwic3ZnIiwiZGVzdHJveWVkJCIsImJvYXJkIiwiQm9hcmQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnYW1lT24iLCJrZXlEb3ducyQiLCJkb2N1bWVudCIsInRpbWVyJCIsImR1ZVRpbWUiLCJwZXJpb2RPclNjaGVkdWxlciIsImR1ZSIsInRpbWVyIiwiaGVhZGluZyQiLCJjdXJyIiwic3RhdGUwIiwiaXNBbGl2ZSIsInNuYWtlIiwiYm9keSIsInNuYWtlRXZvbHV0aW9uIiwibmV3SGVhZCIsIm9sZFRhaWwiLCJmb29kTG9jYXRpb24iLCJ3aXRoTGF0ZXN0RnJvbSIsInNjYW4iLCJhY2MiLCJuZXdIZWFkaW5nIiwiaGVhZGluZzEiLCJoZWFkaW5nMiIsImlzT3Bwb3NpdGUiLCJmaW5kIiwibG9nIiwiZW5kR2FtZSIsImRpZEVhdCIsInRha2VXaGlsZSIsImdhbWVTdGF0ZSIsInJlY3QiLCJzdmdSZWN0IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJnZXRFbGVtZW50QnlJZCIsImZvb2QiLCJnZXRBdHRyaWJ1dGUiLCJhZGRTY29yZSIsImFiYW5kb24iLCJjaGlsZE5vZGVzIiwic2NvcmUiLCJ0ZXh0Q29udGVudCIsImZvcm1TdWJtaXRpb24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicXVlcnlTZWxlY3RvciIsInNjb3JlU3RyaW5nIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInN0eWxlIiwiZGlzcGxheSIsIkNyZWF0ZVNjb3JlQm9hcmQiLCJteVN0b3JhZ2UiLCJlbnRyaWVzIiwic29ydCIsInRhYmxlIiwib2wiLCJsaXN0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmcm9tIiwicmVtb3ZlQ2hpbGQiLCJwZXJzb24iLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxX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RUFKdUNxTCxTQUFTa0MsZUFDOUMsU0FHcUIsU0FBU3ZQLFdBQVUsV0FBTSxPRE96QjhNLEVDUGdDLEdEUWpEdEIsR0FDRkEsR0FBWW1FLFVBRVpuRSxHQUFjLElBQUksR0FBS3NCLEVBUlQsU0FXaEJ0QixHQUFZMkIsU0FQUCxJQUFnQkwiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVW5zdWJzY3JpcHRpb25FcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fY3RvclVuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF9jdG9yVW5zdWJzY3JpYmUgPSBfYS5fY3RvclVuc3Vic2NyaWJlLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgaWYgKF9jdG9yVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gW19wYXJlbnRPclBhcmVudHMsIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG52YXIgdG9TdHJpbmcgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOyB9KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzEgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8yID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmoub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMi5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzMgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8zLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZU9iaiAmJiBzb3VyY2VPYmoubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VPYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9ialtpXSwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5hZGQodW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLm9mZiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgPSBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xudmFyIFN1YmplY3RTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0U3Vic2NyaXB0aW9uKHN1YmplY3QsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3ViamVjdCA9IHN1YmplY3Q7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJqZWN0U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuc3ViamVjdDtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHN1YmplY3Qub2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLnN1YmplY3QgPSBudWxsO1xuICAgICAgICBpZiAoIW9ic2VydmVycyB8fCBvYnNlcnZlcnMubGVuZ3RoID09PSAwIHx8IHN1YmplY3QuaXNTdG9wcGVkIHx8IHN1YmplY3QuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmliZXJJbmRleCA9IG9ic2VydmVycy5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKHN1YnNjcmliZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3RTdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9PYnNlcnZhYmxlLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IsX1N1YmplY3RTdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJqZWN0U3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbnZhciBTdWJqZWN0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFN1YmplY3RTdWJzY3JpYmVyIH07XG52YXIgU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICBfdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnRocm93bkVycm9yID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJqZWN0LnByb3RvdHlwZVtyeFN1YnNjcmliZXJTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YmplY3RTdWJzY3JpYmVyKHRoaXMpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb3B5W2ldLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aHJvd25FcnJvciA9IGVycjtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbnVsbDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN1YmplY3RTdWJzY3JpcHRpb24odGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgU3ViamVjdC5jcmVhdGUgPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdDtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgU3ViamVjdCB9O1xudmFyIEFub255bW91c1N1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQW5vbnltb3VzU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLm5leHQpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBbm9ueW1vdXNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBbm9ueW1vdXNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG52YXIgQXN5bmNBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2V4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gISFlICYmIGUgfHwgbmV3IEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICB2YXIgaW5kZXggPSBhY3Rpb25zLmluZGV4T2YodGhpcyk7XG4gICAgICAgIHRoaXMud29yayA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBudWxsO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWwpIHtcbiAgICByZXR1cm4gIWlzQXJyYXkodmFsKSAmJiAodmFsIC0gcGFyc2VGbG9hdCh2YWwpICsgMSkgPj0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTnVtZXJpYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBwZXJpb2RPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICBkdWVUaW1lID0gMDtcbiAgICB9XG4gICAgdmFyIHBlcmlvZCA9IC0xO1xuICAgIGlmIChpc051bWVyaWMocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHBlcmlvZCA9IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcikgPCAxICYmIDEgfHwgTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTY2hlZHVsZXIocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHBlcmlvZE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICBpZiAoIWlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNOdW1lcmljKGR1ZVRpbWUpXG4gICAgICAgICAgICA/IGR1ZVRpbWVcbiAgICAgICAgICAgIDogKCtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgZHVlLCB7XG4gICAgICAgICAgICBpbmRleDogMCwgcGVyaW9kOiBwZXJpb2QsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4LCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2QsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIubmV4dChpbmRleCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyaW9kID09PSAtMSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgRmlsdGVyT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBGaWx0ZXJPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbHRlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlck9wZXJhdG9yO1xufSgpKTtcbnZhciBGaWx0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbHRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRmlsdGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHRoaXMuc2NoZWR1bGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vdXRpbC9zdWJzY3JpYmVUbyc7XG52YXIgU2ltcGxlSW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZUlubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVJbm5lclN1YnNjcmliZXIocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUlubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4SW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhJbm5lclN1YnNjcmliZXIocGFyZW50LCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub3V0ZXJWYWx1ZSA9IG91dGVyVmFsdWU7XG4gICAgICAgIF90aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4SW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4SW5uZXJTdWJzY3JpYmVyIH07XG52YXIgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZU91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgX291dGVySW5kZXgsIF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGxleE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tcGxleE91dGVyU3Vic2NyaWJlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoaW5uZXJTdWJzY3JpYmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyU3Vic2NyaWJlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfbWFwLF9vYnNlcnZhYmxlX2Zyb20sX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUobWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSwgY29uY3VycmVudCkpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpKTsgfTtcbn1cbnZhciBNZXJnZU1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgfVxuICAgIE1lcmdlTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWVyZ2VNYXBTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByb2plY3QsIHRoaXMuY29uY3VycmVudCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWVyZ2VNYXBPcGVyYXRvciB9O1xudmFyIE1lcmdlTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXJnZU1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBpbm5lclN1YnNjcmliZShpc2gsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChpbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5idWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcFN1YnNjcmliZXI7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgTWVyZ2VNYXBTdWJzY3JpYmVyIH07XG5leHBvcnQgdmFyIGZsYXRNYXAgPSBtZXJnZU1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyxfc2NoZWR1bGVkX3NjaGVkdWxlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuL21lcmdlQWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsKDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0QWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAsX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2YsX29wZXJhdG9yc19jb25jYXRBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29mJztcbmltcG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9jb25jYXRBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0QWxsKCkob2YuYXBwbHkodm9pZCAwLCBvYnNlcnZhYmxlcykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9jb25jYXQsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGgoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJyYXlbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFycmF5LnBvcCgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KGFycmF5LCBzb3VyY2UsIHNjaGVkdWxlcik7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KGFycmF5LCBzb3VyY2UpOyB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0V2l0aC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzLmluZGV4KyssIHRoaXMpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IsIHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IElubmVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5uZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfSW5uZXJTdWJzY3JpYmVyLF9zdWJzY3JpYmVUbyxfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBJbm5lclN1YnNjcmliZXIgfSBmcm9tICcuLi9Jbm5lclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuL3N1YnNjcmliZVRvJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVUb1Jlc3VsdChvdXRlclN1YnNjcmliZXIsIHJlc3VsdCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG5ldyBJbm5lclN1YnNjcmliZXIob3V0ZXJTdWJzY3JpYmVyLCBvdXRlclZhbHVlLCBvdXRlckluZGV4KTtcbiAgICB9XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoaW5uZXJTdWJzY3JpYmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUmVzdWx0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmV4cG9ydCBmdW5jdGlvbiB3aXRoTGF0ZXN0RnJvbSgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIHByb2plY3Q7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwcm9qZWN0ID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSBhcmdzO1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFdpdGhMYXRlc3RGcm9tT3BlcmF0b3Iob2JzZXJ2YWJsZXMsIHByb2plY3QpKTtcbiAgICB9O1xufVxudmFyIFdpdGhMYXRlc3RGcm9tT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2l0aExhdGVzdEZyb21PcGVyYXRvcihvYnNlcnZhYmxlcywgcHJvamVjdCkge1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXM7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgfVxuICAgIFdpdGhMYXRlc3RGcm9tT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5vYnNlcnZhYmxlcywgdGhpcy5wcm9qZWN0KSk7XG4gICAgfTtcbiAgICByZXR1cm4gV2l0aExhdGVzdEZyb21PcGVyYXRvcjtcbn0oKSk7XG52YXIgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9ic2VydmFibGVzLCBwcm9qZWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMudG9SZXNwb25kID0gW107XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgIF90aGlzLnZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBfdGhpcy50b1Jlc3BvbmQucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG9ic2VydmFibGVzW2ldO1xuICAgICAgICAgICAgX3RoaXMuYWRkKHN1YnNjcmliZVRvUmVzdWx0KF90aGlzLCBvYnNlcnZhYmxlLCB1bmRlZmluZWQsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB0aGlzLnZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSB0aGlzLnRvUmVzcG9uZDtcbiAgICAgICAgaWYgKHRvUmVzcG9uZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0b1Jlc3BvbmQuaW5kZXhPZihvdXRlckluZGV4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b1Jlc3BvbmQuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudG9SZXNwb25kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbdmFsdWVdLmNvbmNhdCh0aGlzLnZhbHVlcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UHJvamVjdChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UHJvamVjdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoTGF0ZXN0RnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgdmFyIGhhc1NlZWQgPSBmYWxzZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIGhhc1NlZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gc2Nhbk9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgU2Nhbk9wZXJhdG9yKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkKSk7XG4gICAgfTtcbn1cbnZhciBTY2FuT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Nhbk9wZXJhdG9yKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkKSB7XG4gICAgICAgIGlmIChoYXNTZWVkID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGhhc1NlZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHRoaXMuaGFzU2VlZCA9IGhhc1NlZWQ7XG4gICAgfVxuICAgIFNjYW5PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFNjYW5TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuYWNjdW11bGF0b3IsIHRoaXMuc2VlZCwgdGhpcy5oYXNTZWVkKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2Nhbk9wZXJhdG9yO1xufSgpKTtcbnZhciBTY2FuU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTY2FuU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTY2FuU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgYWNjdW11bGF0b3IsIF9zZWVkLCBoYXNTZWVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yO1xuICAgICAgICBfdGhpcy5fc2VlZCA9IF9zZWVkO1xuICAgICAgICBfdGhpcy5oYXNTZWVkID0gaGFzU2VlZDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUsIFwic2VlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1NlZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1NlZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VlZCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhblN1YnNjcmliZXIucHJvdG90eXBlLl90cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYWNjdW11bGF0b3IodGhpcy5zZWVkLCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlZWQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjYW5TdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkge1xuICAgICAgICBpbmNsdXNpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUYWtlV2hpbGVPcGVyYXRvcihwcmVkaWNhdGUsIGluY2x1c2l2ZSkpO1xuICAgIH07XG59XG52YXIgVGFrZVdoaWxlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFrZVdoaWxlT3BlcmF0b3IocHJlZGljYXRlLCBpbmNsdXNpdmUpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuaW5jbHVzaXZlID0gaW5jbHVzaXZlO1xuICAgIH1cbiAgICBUYWtlV2hpbGVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFRha2VXaGlsZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMuaW5jbHVzaXZlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVdoaWxlT3BlcmF0b3I7XG59KCkpO1xudmFyIFRha2VXaGlsZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVGFrZVdoaWxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlV2hpbGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy5pbmNsdXNpdmUgPSBpbmNsdXNpdmU7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlV2hpbGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUodmFsdWUsIHRoaXMuaW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRPckNvbXBsZXRlKHZhbHVlLCByZXN1bHQpO1xuICAgIH07XG4gICAgVGFrZVdoaWxlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dE9yQ29tcGxldGUgPSBmdW5jdGlvbiAodmFsdWUsIHByZWRpY2F0ZVJlc3VsdCkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoQm9vbGVhbihwcmVkaWNhdGVSZXN1bHQpKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRha2VXaGlsZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpbm5lclN1YnNjcmliZSwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBTaW1wbGVPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gdGFrZVVudGlsKG5vdGlmaWVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBUYWtlVW50aWxPcGVyYXRvcihub3RpZmllcikpOyB9O1xufVxudmFyIFRha2VVbnRpbE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRha2VVbnRpbE9wZXJhdG9yKG5vdGlmaWVyKSB7XG4gICAgICAgIHRoaXMubm90aWZpZXIgPSBub3RpZmllcjtcbiAgICB9XG4gICAgVGFrZVVudGlsT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciB0YWtlVW50aWxTdWJzY3JpYmVyID0gbmV3IFRha2VVbnRpbFN1YnNjcmliZXIoc3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBub3RpZmllclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHRoaXMubm90aWZpZXIsIG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGFrZVVudGlsU3Vic2NyaWJlcikpO1xuICAgICAgICBpZiAobm90aWZpZXJTdWJzY3JpcHRpb24gJiYgIXRha2VVbnRpbFN1YnNjcmliZXIuc2VlblZhbHVlKSB7XG4gICAgICAgICAgICB0YWtlVW50aWxTdWJzY3JpYmVyLmFkZChub3RpZmllclN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZSh0YWtlVW50aWxTdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFrZVVudGlsU3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIHJldHVybiBUYWtlVW50aWxPcGVyYXRvcjtcbn0oKSk7XG52YXIgVGFrZVVudGlsU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYWtlVW50aWxTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRha2VVbnRpbFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlZW5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRha2VVbnRpbFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VlblZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgVGFrZVVudGlsU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZVVudGlsU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlVW50aWwuanMubWFwXG4iLCJpbXBvcnQgeyBmcm9tRXZlbnQsIE9ic2VydmFibGUsIFN1YmplY3QsIHRpbWVyIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7XG4gIGRlbGF5LFxuICBmaWx0ZXIsXG4gIG1hcCxcbiAgc2NhbixcbiAgc3RhcnRXaXRoLFxuICB0YWtlVW50aWwsXG4gIHRha2VXaGlsZSxcbiAgd2l0aExhdGVzdEZyb20sXG59IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuXG5sZXQgR0FNRV9USUNLID0gMTAwOyAvLyB0aW1lIGluIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXNcbmNvbnN0IENFTExfU0laRSA9IDE2OyAvLyBwaXhlbHNcblxubGV0IGN1cnJlbnRHYW1lOiBHYW1lO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2FtZU9uKHN2ZzogU1ZHU1ZHRWxlbWVudCkge1xuICBpZiAoY3VycmVudEdhbWUpIHtcbiAgICBjdXJyZW50R2FtZS5hYmFuZG9uKCk7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudEdhbWUgPSBuZXcgR2FtZShzdmcsIENFTExfU0laRSk7XG4gIH1cblxuICBjdXJyZW50R2FtZS5nYW1lT24oKTtcbn1cblxudHlwZSBIZWFkaW5nID0gXCJOXCIgfCBcIkVcIiB8IFwiU1wiIHwgXCJXXCI7XG5cbmZ1bmN0aW9uIGlzT3Bwb3NpdGUoaGVhZGluZzE6IEhlYWRpbmcsIGhlYWRpbmcyOiBIZWFkaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoaGVhZGluZzEpIHtcbiAgICBjYXNlIFwiTlwiOlxuICAgICAgcmV0dXJuIGhlYWRpbmcyID09IFwiU1wiO1xuICAgIGNhc2UgXCJFXCI6XG4gICAgICByZXR1cm4gaGVhZGluZzIgPT0gXCJXXCI7XG4gICAgY2FzZSBcIlNcIjpcbiAgICAgIHJldHVybiBoZWFkaW5nMiA9PSBcIk5cIjtcbiAgICBjYXNlIFwiV1wiOlxuICAgICAgcmV0dXJuIGhlYWRpbmcyID09IFwiRVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgQ2VsbExvY2F0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHg6IG51bWJlciwgcHVibGljIHJlYWRvbmx5IHk6IG51bWJlcikge31cblxuICBuZXh0KGhlYWRpbmc6IEhlYWRpbmcpOiBDZWxsTG9jYXRpb24ge1xuICAgIHN3aXRjaCAoaGVhZGluZykge1xuICAgICAgY2FzZSBcIk5cIjpcbiAgICAgICAgcmV0dXJuIG5ldyBDZWxsTG9jYXRpb24odGhpcy54LCB0aGlzLnkgLSAxKTtcbiAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgIHJldHVybiBuZXcgQ2VsbExvY2F0aW9uKHRoaXMueCArIDEsIHRoaXMueSk7XG4gICAgICBjYXNlIFwiU1wiOlxuICAgICAgICByZXR1cm4gbmV3IENlbGxMb2NhdGlvbih0aGlzLngsIHRoaXMueSArIDEpO1xuICAgICAgY2FzZSBcIldcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBDZWxsTG9jYXRpb24odGhpcy54IC0gMSwgdGhpcy55KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy54ICsgXCJfXCIgKyB0aGlzLnk7XG4gIH1cbn1cblxuY2xhc3MgQm9hcmQge1xuICBwdWJsaWMgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGRvbVJlY3Q6IERPTVJlY3QsIHB1YmxpYyByZWFkb25seSBjZWxsU2l6ZTogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3IoZG9tUmVjdC53aWR0aCAvIGNlbGxTaXplKTtcbiAgICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IoZG9tUmVjdC5oZWlnaHQgLyBjZWxsU2l6ZSk7XG4gIH1cblxuICBzdGFydFNuYWtlKHNpemU6IG51bWJlciwgaGVhZGluZzogSGVhZGluZyk6IENlbGxMb2NhdGlvbltdIHtcbiAgICBjb25zdCBjZW50cmUgPSBuZXcgQ2VsbExvY2F0aW9uKFxuICAgICAgTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMiksXG4gICAgICBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0IC8gMilcbiAgICApO1xuICAgIHJldHVybiBbY2VudHJlLCBjZW50cmUubmV4dChoZWFkaW5nKV07XG4gIH1cblxuICBpc1dpdGhpbkJvdW5kcyhsb2NhdGlvbjogQ2VsbExvY2F0aW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxvY2F0aW9uLnggPj0gMCAmJlxuICAgICAgbG9jYXRpb24ueCA8IHRoaXMud2lkdGggJiZcbiAgICAgIGxvY2F0aW9uLnkgPj0gMCAmJlxuICAgICAgbG9jYXRpb24ueSA8IHRoaXMuaGVpZ2h0XG4gICAgKTtcbiAgfVxuXG4gIGdldFJlY3QoXG4gICAgY2VsbExvY2F0aW9uOiBDZWxsTG9jYXRpb25cbiAgKTogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGNlbGxMb2NhdGlvbi54ICogdGhpcy5jZWxsU2l6ZSxcbiAgICAgIHk6IGNlbGxMb2NhdGlvbi55ICogdGhpcy5jZWxsU2l6ZSxcbiAgICAgIHdpZHRoOiB0aGlzLmNlbGxTaXplLFxuICAgICAgaGVpZ2h0OiB0aGlzLmNlbGxTaXplLFxuICAgIH07XG4gIH1cblxuICByYW5kb20oKTogQ2VsbExvY2F0aW9uIHtcbiAgICByZXR1cm4gbmV3IENlbGxMb2NhdGlvbihcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMud2lkdGgpLFxuICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5oZWlnaHQpXG4gICAgKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgR2FtZVN0YXRlIHtcbiAgaXNBbGl2ZTogYm9vbGVhbjtcbiAgc25ha2U6IHtcbiAgICBib2R5OiBDZWxsTG9jYXRpb25bXTtcbiAgICBoZWFkaW5nOiBIZWFkaW5nO1xuICB9O1xuICBzbmFrZUV2b2x1dGlvbjoge1xuICAgIG5ld0hlYWQ6IENlbGxMb2NhdGlvbltdOyAvLyBTbmFrZSBwYXJ0cyB0byBiZSBhZGRlZFxuICAgIG9sZFRhaWw6IENlbGxMb2NhdGlvbltdOyAvLyBTbmFrZSBwYXJ0cyB0byBiZSByZW1vdmVkXG4gIH07XG4gIGZvb2RMb2NhdGlvbj86IENlbGxMb2NhdGlvbjtcbn1cblxuY2xhc3MgR2FtZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYm9hcmQ6IEJvYXJkO1xuICBwcml2YXRlIHJlYWRvbmx5IGRlc3Ryb3llZCQgPSBuZXcgU3ViamVjdCgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3ZnOiBTVkdTVkdFbGVtZW50LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2VsbFNpemU6IG51bWJlclxuICApIHtcbiAgICB0aGlzLmJvYXJkID0gbmV3IEJvYXJkKHN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgY2VsbFNpemUpO1xuICB9XG5cbiAgZ2FtZU9uKCkge1xuICAgIGNvbnN0IGtleURvd25zJDogT2JzZXJ2YWJsZTxLZXlib2FyZEV2ZW50PiA9IGZyb21FdmVudChcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJrZXlkb3duXCJcbiAgICApIGFzIE9ic2VydmFibGU8S2V5Ym9hcmRFdmVudD47XG4gICAgY29uc3QgdGltZXIkID0gdGltZXIoMCwgR0FNRV9USUNLKTtcblxuICAgIGNvbnN0IGhlYWRpbmckOiBPYnNlcnZhYmxlPEhlYWRpbmc+ID0ga2V5RG93bnMkLnBpcGUoXG4gICAgICBmaWx0ZXIoXG4gICAgICAgIChjdXJyOiBLZXlib2FyZEV2ZW50KSA9PlxuICAgICAgICAgIFtcIkFycm93VXBcIiwgXCJBcnJvd1JpZ2h0XCIsIFwiQXJyb3dEb3duXCIsIFwiQXJyb3dMZWZ0XCJdLmluZGV4T2YoXG4gICAgICAgICAgICBjdXJyLmtleVxuICAgICAgICAgICkgIT09IC0xXG4gICAgICApLFxuICAgICAgbWFwKChjdXJyOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoY3Vyci5rZXkpIHtcbiAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiTlwiO1xuICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJFXCI7XG4gICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiU1wiO1xuICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgICAgIHJldHVybiBcIldcIjtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBzdGFydFdpdGgoXCJFXCIpXG4gICAgKSBhcyBPYnNlcnZhYmxlPEhlYWRpbmc+O1xuXG4gICAgY29uc3Qgc3RhcnRTbmFrZSA9IHRoaXMuYm9hcmQuc3RhcnRTbmFrZSgyLCBcIkVcIik7XG4gICAgY29uc3Qgc3RhdGUwOiBHYW1lU3RhdGUgPSB7XG4gICAgICBpc0FsaXZlOiB0cnVlLFxuICAgICAgc25ha2U6IHsgYm9keTogc3RhcnRTbmFrZSwgaGVhZGluZzogXCJFXCIgfSxcbiAgICAgIHNuYWtlRXZvbHV0aW9uOiB7IG5ld0hlYWQ6IHN0YXJ0U25ha2UsIG9sZFRhaWw6IFtdIH0sXG4gICAgICBmb29kTG9jYXRpb246IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHRpbWVyJFxuICAgICAgLnBpcGUoXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKGhlYWRpbmckKSxcbiAgICAgICAgc2NhbigoYWNjOiBHYW1lU3RhdGUsIGN1cnI6IFtudW1iZXIsIEhlYWRpbmddKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3SGVhZGluZyA9IGlzT3Bwb3NpdGUoYWNjLnNuYWtlLmhlYWRpbmcsIGN1cnJbMV0pXG4gICAgICAgICAgICA/IGFjYy5zbmFrZS5oZWFkaW5nXG4gICAgICAgICAgICA6IGN1cnJbMV07XG4gICAgICAgICAgY29uc3QgbmV3SGVhZDogQ2VsbExvY2F0aW9uID0gYWNjLnNuYWtlLmJvZHlbXG4gICAgICAgICAgICBhY2Muc25ha2UuYm9keS5sZW5ndGggLSAxXG4gICAgICAgICAgXS5uZXh0KG5ld0hlYWRpbmcpO1xuICAgICAgICAgIGNvbnN0IGRpZERpZSA9XG4gICAgICAgICAgICAhdGhpcy5ib2FyZC5pc1dpdGhpbkJvdW5kcyhuZXdIZWFkKSB8fFxuICAgICAgICAgICAgYWNjLnNuYWtlLmJvZHkuZmluZCgoeCkgPT4geC5pZCA9PT0gbmV3SGVhZC5pZCkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoZGlkRGllKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRFQUQhXCIsIGFjYy5zbmFrZS5ib2R5Lmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmVuZEdhbWUoYWNjLnNuYWtlLmJvZHkubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmFjYywgaXNBbGl2ZTogZmFsc2UgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBkaWRFYXQgPSBhY2MuZm9vZExvY2F0aW9uICYmIGFjYy5mb29kTG9jYXRpb24uaWQgPT09IG5ld0hlYWQuaWQ7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzQWxpdmU6IHRydWUsXG4gICAgICAgICAgICBzbmFrZToge1xuICAgICAgICAgICAgICBib2R5OiBkaWRFYXRcbiAgICAgICAgICAgICAgICA/IFsuLi5hY2Muc25ha2UuYm9keSwgbmV3SGVhZF1cbiAgICAgICAgICAgICAgICA6IFsuLi5hY2Muc25ha2UuYm9keS5zbGljZSgxKSwgbmV3SGVhZF0sXG4gICAgICAgICAgICAgIGhlYWRpbmc6IG5ld0hlYWRpbmcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc25ha2VFdm9sdXRpb246IHtcbiAgICAgICAgICAgICAgbmV3SGVhZDogW25ld0hlYWRdLFxuICAgICAgICAgICAgICBvbGRUYWlsOiBkaWRFYXQgPyBbXSA6IFthY2Muc25ha2UuYm9keVswXV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9vZExvY2F0aW9uOlxuICAgICAgICAgICAgICBkaWRFYXQgfHwgIWFjYy5mb29kTG9jYXRpb25cbiAgICAgICAgICAgICAgICA/IHRoaXMuYm9hcmQucmFuZG9tKClcbiAgICAgICAgICAgICAgICA6IGFjYy5mb29kTG9jYXRpb24sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgc3RhdGUwKSxcbiAgICAgICAgc3RhcnRXaXRoKHN0YXRlMCksXG4gICAgICAgIHRha2VXaGlsZSgoZ2FtZVN0YXRlKSA9PiBnYW1lU3RhdGUuaXNBbGl2ZSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3llZCQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChnYW1lU3RhdGU6IEdhbWVTdGF0ZSkgPT4ge1xuICAgICAgICBnYW1lU3RhdGUuc25ha2VFdm9sdXRpb24ubmV3SGVhZC5mb3JFYWNoKChjZWxsTG9jYXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCByZWN0OiB7XG4gICAgICAgICAgICB4OiBudW1iZXI7XG4gICAgICAgICAgICB5OiBudW1iZXI7XG4gICAgICAgICAgICB3aWR0aDogbnVtYmVyO1xuICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgICAgICAgfSA9IHRoaXMuYm9hcmQuZ2V0UmVjdChjZWxsTG9jYXRpb24pO1xuICAgICAgICAgIGNvbnN0IHN2Z1JlY3Q6IFNWR1JlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICAgICAgXCJyZWN0XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHN2Z1JlY3Quc2V0QXR0cmlidXRlKFwieFwiLCByZWN0LngudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHJlY3QueS50b1N0cmluZygpKTtcbiAgICAgICAgICBzdmdSZWN0LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHJlY3Qud2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgcmVjdC5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjZWxsTG9jYXRpb24uaWQpO1xuICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHN2Z1JlY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgZ2FtZVN0YXRlLnNuYWtlRXZvbHV0aW9uLm9sZFRhaWwuZm9yRWFjaCgoY2VsbExvY2F0aW9uKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdmcuZ2V0RWxlbWVudEJ5SWQoY2VsbExvY2F0aW9uLmlkKS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZm9vZDogU1ZHUmVjdEVsZW1lbnQgPSB0aGlzLnN2Zy5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBcImZvb2RcIlxuICAgICAgICApIGFzIFNWR1JlY3RFbGVtZW50O1xuICAgICAgICBpZiAoZm9vZCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFnYW1lU3RhdGUuZm9vZExvY2F0aW9uIHx8XG4gICAgICAgICAgICBnYW1lU3RhdGUuZm9vZExvY2F0aW9uLmlkICE9PSBmb29kLmdldEF0dHJpYnV0ZShcImlkXCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBmb29kLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnYW1lU3RhdGUuZm9vZExvY2F0aW9uKSB7XG4gICAgICAgICAgdGhpcy5hZGRTY29yZShnYW1lU3RhdGUuc25ha2UuYm9keS5sZW5ndGgpO1xuICAgICAgICAgIGNvbnN0IHJlY3Q6IHtcbiAgICAgICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXI7XG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICAgICAgICB9ID0gdGhpcy5ib2FyZC5nZXRSZWN0KGdhbWVTdGF0ZS5mb29kTG9jYXRpb24pO1xuICAgICAgICAgIGNvbnN0IHN2Z1JlY3Q6IFNWR1JlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgICAgICAgXCJyZWN0XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHN2Z1JlY3Quc2V0QXR0cmlidXRlKFwieFwiLCByZWN0LngudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHJlY3QueS50b1N0cmluZygpKTtcbiAgICAgICAgICBzdmdSZWN0LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHJlY3Qud2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgcmVjdC5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgc3ZnUmVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImZvb2RcIik7XG4gICAgICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoc3ZnUmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgYWJhbmRvbigpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCQubmV4dCgpO1xuICAgIHdoaWxlICh0aGlzLnN2Zy5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3ZnLmNoaWxkTm9kZXNbMF0ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgYWRkU2NvcmUoc2NvcmU6IG51bWJlcikge1xuICAgIGNvbnN0IHNjb3JlUDogSFRNTFBhcmFncmFwaEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwic2NvcmVcIlxuICAgICkgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XG4gICAgc2NvcmVQLnRleHRDb250ZW50ID0gYHNjb3JlOiAke3Njb3JlfWA7XG4gIH1cblxuICBmb3JtU3VibWl0aW9uKGV2ZW50OiBhbnksIHNjb3JlOiBudW1iZXIpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5hbWUgPSBldmVudC50YXJnZXQucXVlcnlTZWxlY3RvcihcIi5uYW1lXCIpLnZhbHVlO1xuICAgIGlmIChuYW1lID09IFwiXCIpIHJldHVybjtcbiAgICBjb25zdCBzY29yZVN0cmluZyA9IHNjb3JlLnRvU3RyaW5nKCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgc2NvcmVTdHJpbmcpO1xuICAgIC8vZXZlbnQudGFyZ2V0LnJlc2V0KCk7XG5cbiAgICBjb25zdCBlbmREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuZEdhbWVcIik7XG4gICAgZW5kRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIHRoaXMuQ3JlYXRlU2NvcmVCb2FyZCgpO1xuICB9XG5cbiAgZW5kR2FtZShzY29yZTogbnVtYmVyKSB7XG4gICAgY29uc3QgZW5kRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmRHYW1lXCIpO1xuICAgIGVuZERpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIC8vYWRkaW5nIHRoZSBzY29yZVxuICAgIGNvbnN0IHNjb3JlU3BhbjogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcImVuZFNjb3JlXCJcbiAgICApIGFzIEhUTUxTcGFuRWxlbWVudDtcbiAgICBzY29yZVNwYW4udGV4dENvbnRlbnQgPSBgICR7c2NvcmV9YDtcbiAgICAvL2NvbnNvbGUubG9nKHNjb3JlKTtcbiAgICAvL2hhbmRsaW5nIHRoZSBmb3JtXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdGlvbihlLCBzY29yZSk7XG4gICAgfSk7XG5cbiAgICAvL3Jlc2V0IHRoZSBpbnB1dFxuICAgIGNvbnN0IGlucHV0TmFtZTogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJuYW1lSW5wdXRcIlxuICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBpbnB1dE5hbWUudmFsdWUgPSBcIlwiO1xuICB9XG5cbiAgQ3JlYXRlU2NvcmVCb2FyZCgpIHtcbiAgICBjb25zdCBteVN0b3JhZ2UgPSBPYmplY3QuZW50cmllcyhsb2NhbFN0b3JhZ2UpO1xuICAgIG15U3RvcmFnZS5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIGJbMV0gLSBhWzFdO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS50YWJsZShteVN0b3JhZ2UpO1xuXG4gICAgbGV0IG9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWFkXCIpO1xuXG4gICAgLy9lbXB0eSB0aGUgbGlzdFxuICAgIGxldCBsaXN0ID0gb2wuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcbiAgICBBcnJheS5mcm9tKGxpc3QpLmZvckVhY2goKGl0ZW0pID0+IG9sLnJlbW92ZUNoaWxkKGl0ZW0pKTtcblxuICAgIC8vcG9wdWxhdGUgdGhlIGxpc3RcbiAgICBteVN0b3JhZ2UubWFwKChwZXJzb24pID0+IHtcbiAgICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGxpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGAke3BlcnNvblswXX0gOiAke3BlcnNvblsxXX1gKSk7XG4gICAgICBvbC5hcHBlbmRDaGlsZChsaSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBnYW1lT24gfSBmcm9tIFwiLi9nYW1lXCI7IC8vIDwtIHJ4anMgZnJvbSBOUE1cblxuY29uc3Qgc3ZnOiBTVkdTVkdFbGVtZW50ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICBcImJvYXJkXCJcbikgYXMgdW5rbm93bikgYXMgU1ZHU1ZHRWxlbWVudDtcbmNvbnN0IHN0YXJ0QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICBcInN0YXJ0XCJcbikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbmZyb21FdmVudChzdGFydEJ1dHRvbiwgXCJjbGlja1wiKS5zdWJzY3JpYmUoKCkgPT4gZ2FtZU9uKHN2ZykpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==